---
title: "hm-02"
author: "Kendall Beaver"
format: html
editor: visual
---

```{r}
# Sets the number of significant figures to two - e.g., 0.01
options(digits = 2)

# Required package for quick package downloading and loading 
if (!require(pacman))  
  install.packages("pacman")

# Downloads and load required packages
pacman::p_load(dlookr, # Exploratory data analysis
               forecast, # Needed for Box-Cox transformations
               formattable, # HTML tables from R outputs
               here, # Standardizes paths to data
               kableExtra, # Alternative to formattable
               knitr, # Needed to write HTML reports
               missRanger, # To generate NAs
               tidyverse) # Powerful data wrangling package suite

# Let's load a data set from the diabetes data set
# An easy way

#dataset <- read.csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-07-25/scurvy.csv')

dataset <- read_csv(here('owid-energy.csv'))
#dataset
#brazil_dataset <- dataset %>%
#  filter(country == "Brazil")

#brazil_dataset

saudi_and_brazil <- dataset %>%
#  filter(country %in% c("Brazil", "saudia arabia", "Panama")) %>%
#  filter(country == "Brazil & Saudia Arabia" & year >= 1950)
  filter(iso_code %in% c("SAU", "BRA")) %>%
  filter(year >= 1950) %>%
  select(country, iso_code, year, gdp, population, gas_production, oil_production)
  
saudi_and_brazil

#dataset <- read_csv(here('daily_summary.csv'))

# dataset <- read_csv(here('population.csv'))
# source: https://github.com/rfordatascience/tidytuesday/tree/master/data/2023/2023-08-22 ###

saudi_and_brazil |> 
  head() |>
    formattable()

saudi_and_brazil |>
  select(country) |>
  formattable()

saudi_and_brazil |>
  plot_normality()

saudi_and_brazil %>%
  group_by(country) %>%
  select(population) %>%
  plot_normality()

saudi_and_brazil |>
  select(oil_production, gas_production) |>
  describe() |>
  select(mean, IQR, skewness) |> #there is no describe_variables category
  formattable()

saudi_and_brazil |>
plot_normality(oil_production, gas_production)
#qqnorm()
```
